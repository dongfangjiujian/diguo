<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>JSP开发导引 - Powered by EmpireCMS</title>
<meta name="keywords" content="" />
<meta name="description" content="JSP开发导引" />

	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/skin/default/bootstrap/css/custom.css">

<script type="text/javascript" src="/skin/default/js/tabs.js"></script>

	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<body><div class="nav-just">
<nav class="nav navbar-default" role="navigation">
	<div class="container"> 
	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target="#example-navbar-collapse">
			<span class="sr-only">切换导航</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
		<a class="navbar-brand" href="/">香水百合</a>
	</div>
	<div class="collapse navbar-collapse" id="example-navbar-collapse">
		<ul class="nav navbar-nav">
			
			  <li id="tabnav_btn_1" onmouseover="tabit(this)"><a href="/news/">新闻中心</a></li><li id="tabnav_btn_2" onmouseover="tabit(this)"><a href="/xiangshuigushi/">香水故事</a></li><li id="tabnav_btn_3" onmouseover="tabit(this)"><a href="/xiangshuiyongfa/">香水用法</a></li><li id="tabnav_btn_4" onmouseover="tabit(this)"><a href="/xiangshuipinpai/">香水品牌</a></li><li id="tabnav_btn_5" onmouseover="tabit(this)"><a href="/xiangshuifenlei/">香水分类</a></li><li id="tabnav_btn_6" onmouseover="tabit(this)"><a href="/test/">test</a></li>			
		</ul>
	</div>
	</div>
</nav>
</div>
<div class="container">
<div class="row">
            <div class="col-md-7">
<ol class="breadcrumb">
  <li><a href="/">首页</a>&nbsp;>&nbsp;<a href="/test/">test</a></li>

</ol>
<div>
    <h2 class="text-center">JSP开发导引</h2>
    <span class="text-left">不详1111</span><span class="pull-right">2018-10-22 15:09:47 </span>
                            　<TABLE cellSpacing=0 cellPadding=0 width=740 align=right border=0><TBODY><TR><TD align=left width=720 background=images/bg.JPG colSpan=2><P>JavaServer Pages (JSP) 是一种以 Java为主的跨平台web开发语言。 <BR><BR>JSP与微软的Active Server Pages 兼容，但它是使用类似HTML的卷标以及Java程序代码段而不是VBScript。当你所使用的网站服务器没有提供本地ASP支持，也就是Apache或Netscape服务器时，你可以考虑使用JSP。虽然你可以取得这些服务器的ASP附加配备模块，但价格相当昂贵，而目前Sun并没有对你所需要的JSP组件收取费用(虽然Sun未来有可能会收费)。对于Solaris与Linux以及Windows，这些组件也都很容易取得。　 <BR><BR>请不要将JSP与伺服端的JavaScript混为一谈。网站服务器会自动将以JSP写成的Java程序代码段转换成Java servlets。而许多先前必须以Perl手写程序或服务器特定的API（如ASP）控制的功能也都可透过JSP来自动化处理。 <BR><BR>现在就让我们开始动手帮助你建立一个可执行JSP范例网站。 <BR><BR><BR>安装好你的机器来使用JSP <BR><BR>你将会需要Java 2软件开发工具(JSDK)，它原来的名称是Java发展工具(JDK)以及JavaServer网站发展工具(JSWDK)，Tomcat，或是其它支持JSP的网络服务器。Sun免费提供JSDK与JSWDK来供Windows，Solaris，以及Linux平台使用。　 <BR><BR>如果你想要在你目前的网络服务器上使用JSP，但服务器本身并不支持JSP与Java servlets，你可以试试看Allaire的Jrun，它的作用就像是针对Netscape企业版与FastTrack服务器、微软的网际网络信息服务器(IIS)与个人网络服务器(PWS)、Apache、以及其它服务器的网络服务器附加设备。你也可以使用Apache网络服务器的Java版本，最新的JSWDK里有提供。 <BR><BR>下载与安装你需要的组件 <BR>目前发布的1.2.2-001，JSDK可下载的版本是以可安装的压缩档形式。下载的档案大约是20MB，可提供完整的Java发展环境，让你能建立利用标准API为核心的Java解决之道。然而，你的网络服务器需要应用到JSP的唯一一件事是Java编译器。要让网络服务器知道编译器的位置，将环境变量JAVA.HOME设到JSDK的安装目录。如果你是在Windows上安装并且接受预设目录，将这行程序代码set JAVA.HOME=C:1.2.2加到你的autoexec.bat档案并且重新开机。 <BR><BR>在安装好JSDK之后，下载 并且安装JSWDK或beta版的Tomcat，以Java为主的Apache网络服务器。安装在哪里并不重要，重要的是你可以找到它。一般而言，它会放在上层目录，这种方式可以让你取代JSWDK或 JSDK的网络服务器，不需要移动其它的网络服务器。在你安装好这个档案之后，你就可以准备发展JSP了。 <BR><BR>在你正确的安装JSWDK之后，执行startserver指令文件来激活网络服务器，预设通讯端口 为 8080。要看你在激活服务器之后是均C有正确的安装工具，你可以加载范例JSP档案中的任何一个(http://localhost:8080/examples/jsp/)。如果你能够成功的执行一个范例档案，你可以知道你已经正确的设定好软件了。如果你在激活服务器的控制台窗口看到错误讯息，那么你需要解决这个问题。最常发生的问题是没有设定(或者不正确设定)环境变量JAVA.HOME。要检视目前的环境设定，在DOS模式下键入set。 <BR><BR>开始 <BR><BR>解释JSP语法之前，先建立一个显示目前日期与时间的快速网页并且将它储存成sample.jsp: <BR><BR>&lt;html&gt; <BR>&lt;head&gt; <BR>&lt;title&gt;First Page&lt;/title&gt; <BR>&lt;/head&gt; <BR>&lt;body&gt; <BR>&lt;H3&gt;Today is: <BR>&lt;%= new java.util.Date() %&gt; <BR>&lt;/H3&gt; <BR>&lt;/body&gt; <BR>&lt;/html&gt;. <BR><BR>将这个档案与你所有的HTML与JSP网页放在你JSWDK安装目录下的网页目录里. 你可以在http://localhost:8080/sample.jsp下载此页.当你第一次参观这个网页时，网站服务器会将JSP翻译成Java servlet程序代码，那你就会看到目前的日期与时间. <BR><BR>现在你已经下载，安装，并且架构好发展环境，你已经准备好要了解JSP语法与建立你自己的JSP为主的解决之道. <BR><BR>JSP语法的基本原理 <BR><BR><BR>安装之后，接下来我们要讨论JSP的语法.如果要偷懒，你可以下载语法卡 而如果你不熟悉 Java的程序设计，你可能会想要参考Sun的使用手册;然而，网站建立者不应该做太多的Java发展.除了几个函式呼叫之外，出现在你JSP网页上的Java程序代码应该将它减到最少; <BR><BR>记住这点之后，现在让我们先来看看JSP的编译器指引与指令组件，之后我们将解释JavaBeans与内部对象. JSP编译器指引与指令组件有五种型态.JSP 1.0之后，大部分的JSP是包含在以&lt;% 作为开始%&gt;作为结束的单一卷标里.新的 JSP 1.1规格已经发表了，它同时也与XML兼容. <BR><BR>JSP的编译器指引与指令组件 <BR><BR>　 编译器指示 <BR>&lt;%@ 编译器指示 %&gt; <BR><BR>　 声明 <BR>&lt;%! 声明 %&gt; <BR><BR>　 表达式 <BR>&lt;%= 表达式 %&gt; <BR><BR>　 程序代码段/小型指令 <BR>&lt;% 程序代码片段 %&gt; <BR><BR>　 注释 <BR>&lt;%-- 注释 --%&gt; <BR><BR><BR><BR><BR>编译器指示 <BR><BR>JSP的编译器指示是针对JSP引擎。它们并不会直接产生任何看得见的输出；相反的，它们是在告诉引擎如何处理其它的JSP网页。它们永远包含在 &lt;%@ ?%&gt;卷标里。两个主要的指引是 page与include。我们不会讨论taglib编译器指引但它可以在JSP1.1里用来建立自订卷标。 <BR><BR>你几乎可以在你所有的JSP网页最上面找到page编译器指示。虽然这不是必须的，但它可以让你指定到哪里可以找到支持的Java类别这类的事： <BR>&lt;%@ page import="java.util.Date" %&gt;，　 <BR><BR>当发生Java问题的事件时应该将讯息传送到哪里： <BR>&lt;%@ page errorPage="errorPage.jsp" %&gt;，　 <BR><BR>以及你是?需要为使用者管理通话期的信息，可能存取多个网页(稍后在JavaBeans里会有更多通话期的讨论): <BR>&lt;%@ page session="true" %&gt;。　 <BR><BR>　 include编译器指示让你将你的内容分成几个可管理的组件，就像那些有表头或脚注的网页。所包含的网页可以是固定格式的HTML网页或者是JSP内容的网页: <BR>&lt;%@ include file="filename.jsp" %&gt;。 <BR><BR>宣告 <BR><BR>JSP声明让你定义网页层的变量，来储存信息或定义支持的函式，让JSP网页的其余部分能够使用。如果你发现自己有太多的程序代码，你最好将它们放在不同的Java类别里。你可以在 &lt;%! ?%&gt;卷标里找到声明。记住要在变量声明的后面加上分号，就跟任何有效的Java叙述的形式一样: &lt;%! int i=0; %&gt;。 <BR><BR>表达式 <BR><BR>JSP里有表达式，评估表达式的结果可以转换成字符串并且直接使用在输出网页上。JSP运算是属于 &lt;%= ?%&gt; 卷标里，并不包含分号，加引号字符串的无用部分。 <BR><BR>&lt;%= i %&gt; <BR>&lt;%= "Hello" %&gt; 。 <BR><BR>程序代码段/小型指令文件 <BR><BR>JSP程序代码片段或小型指令文件是包含在&lt;% ?%&gt; 卷标里。当网络服务器接受这段请求时，这段Java程序代码会执行。小型指令文件可以是原始的HTML或XML，其内部的程序代码片段可以让你建立有条件的执行程序代码，或者只是一些使用另一块程序代码的东西。举例来说，下列的程序代码结合了表达式与小型指令文件，在H1，H2，H3，以及H4卷标里显示字符串"Hello"。小型指令文件不限于一行的原始程序代码 : <BR><BR>&lt;% for (int i=1; i&lt;=4; i++) { %&gt; <BR>&lt;H&lt;%=i%&gt;&gt;Hello&lt;/H&lt;%=i%&gt;&gt; <BR>&lt;% } %&gt;。 <BR><BR>注释 <BR>最后一个主要JSP组件是嵌入式注释。虽然你可以在你的档案里包含HTML注释，如果使用者检视网页的原始码，他们也会看到这些注释。如果你不要让使用者看到你的批注，你可以将它放在&lt;%-- ?--%&gt;卷标里: <BR><BR>&lt;%-- 针对伺服端的注释 --%&gt;。 <BR><BR>JSP与JavaBean <BR><BR><BR>虽然你可以在小型指令文件里放入一大块的程序代码，但是大多数的Java程序代码是属于可以重复使用的组件，称为JavaBean。JavaBean就跟ActiveX控件一样:它们提供已知的功能，并且是为了可随时重复使用的目的而设计的。 <BR><BR>JavaBean的价值在于它可以经由一组特性来使用，而这些特性则提供对JavaBean设定的存取。以人来作范例，此人就是JavaBean，而他的姓名，社会福利安全号码，以及住址可以是特性。对于JSP网站，基本上你是将'JavaBean'动态的连接到你的网站。 <BR><BR>假设JavaBean是在建立网站之前建好的，你要做的第一件事是告诉JSP网页它所需要使用JavaBean.这工作可以用&lt;jsp:useBean&gt;卷标来完成： <BR>&lt;jsp:useBean id="localName" class="com.jguru.Person" scope="application" /&gt;. <BR><BR>&lt;jsp:useBean&gt;卷标需要你以id 属性来辨识豆子.在这里，你提供一个名称让JSP网页来辨识豆子，除了id 属性之外，你也必须告诉网页要到哪里去找这个豆子，或者是它的Java类别名称。类别属性提供如何在各式方法之中找到它，最后一个需要的组件是scope 属性.有了范围属性的帮助，你可以告诉豆子，要它为单一网页(预设)[scope="page"]；为一个被请求的网页[scope="request"]；为通话期[scope="session"]；或为整个应用程序[scope="application"]来维护它自己的信息.对于通话期范围，你可以很容易的维护JSP网页里的项目，例如购物车。 <BR><BR>一但你宣告了JavaBean之后，你就可以存取它的特性来订定它。要取得一特性的值，使用&lt;jsp:getProperty&gt;卷标。有了&lt;jsp:getProperty&gt;卷标，你可以指定要使用的豆子名称(从useBean的id字段)，以及你要取得值的特性。接着，真正的值就会放在输出里： <BR>&lt;jsp:getProperty id="localName" property="name" /&gt;. <BR><BR>要更改JavaBean的特性，你需要使用&lt;jsp:setProperty&gt;卷标.对这个卷标，你也需要辨认豆子以及要修正的特性，除此之外，你还需要提供新值.如果命名正确，这些可以直接经由规定的格式取得： <BR>&lt;jsp:setProperty id="localName" property="*" /&gt;;　 <BR><BR>要从一参数取得，你必须直接命名此特性以及参数: <BR>&lt;jsp:setProperty id="localName" property="address" param="parameterName" /&gt;;　 <BR><BR>或是直接以名称与值来设定: <BR>&lt;jsp:setProperty id="localName" property="serialNumber" value="string" /&gt; or &lt;jsp:setProperty id="localName" property="serialNumber" value= &lt;%= expression %&gt; /&gt;. <BR><BR>有关JavaBean的最后一点:要让网络服务器可以找到JavaBean，你需要将它们的类别档案放在特别位置。对JSWDK而言，最简单的地方是在安装目录里的类别目录，例如 jswdk-1.0.1classes. <BR><BR>JSP的内部对象 <BR><BR><BR>最后一个与JSP语法有关的组件叫做内部对象.在JSP小型指令文件内，你可以存取这些内部对象来与执行JSP网页的servlet环境相互作用。许多对内部对象的存取应该要简化。然而，这些是范例，它们的存取都是可接受的，要完整的利用内部对象设定则需要对最新的Java Servlet API有所了解。 <BR><BR>下表列出你可以使用的内部对象。 <BR><BR><BR><BR>内部对象说明 <BR><BR>　 request <BR>客户端请求，此请求会包含来自GET/POST请求的参数 <BR><BR>　 response <BR>网页传回客户端的响应 <BR><BR>　 pageContext <BR>网页的属性是在这里管理 <BR><BR>　 session <BR>与请求有关的会话 <BR><BR>　 application <BR>servlet正在执行的内容 <BR><BR>　 out <BR>用来传送响应的输出流 <BR><BR>　 config <BR>servlet的架构对象 <BR><BR>　 page <BR>JSP网页本身 <BR><BR>　 exception <BR>针对错误网页，未捕捉的例外 <BR><BR><BR><BR><BR>那么，这些是做什么的，而你应该如何使用它们呢?基本上，在你的小型指令文件里，你可以使用它们来存取执行JSP程序代码的servlet。为了避免谈论到太多Servlet API 的细节，让我们来检视一些你可以利用它们来做的事:　 <BR><BR>不必使用表达式，你可以直接存取内部out对象来打印一些东西到response: <BR>&lt;% out.println("Hello"); %&gt;.　 <BR>不必直接传送参数到JavaBean，你可以藉由请求对象来取得参数的值: <BR>&lt;% String name=request.getParameter("name"); out.println(name); %&gt;。 <BR>当你以JSP写了许多的应用程序之后，如果你建立了JavaBeans或者发现你自己将太多的Java原始码放入你的JSP档案，你需要建立支持的Java类别，这样可以鼓励重复使用并且降低JSP网页转换时所需要的时间。当你需要建立Java类别时，你必须: <BR><BR>将JDSWK的安装目录bin目录加到你的PATH。在你的autoexec.bat档案的PATH行的最后，加入C:1.2.2bin; 。 <BR><BR><BR>以下面的指令将JAR档案复制到jrelibext目录: <BR>copy c:jswdk-1.0.1libservlet.jar c:jdk1.2.2jrelibext. <BR><BR>JSP其他相关资源： <BR><BR>Servlets and JavaServer Pages (JSP) 1.0: A Tutorial <BR><BR>JavaServer PagesTM: A Developer's Perspective <BR><BR>JAVASERVER PAGESTM NEWS &amp; ARTICLES <BR><BR>JAVASERVER PAGESTM TECHNICAL RESOURCES <BR><BR>SERVLETS TAVERNE <BR><BR>servlets.com <BR></P></TD><TD width=20 background=/images/bg2.gif>&nbsp;</TD></TR></TBODY></TABLE></div>


<div class="col-md-5"></div>
</div>
</div>
</body>
</html>